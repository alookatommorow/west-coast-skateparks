<div class="container">
  <h1><%= @skatepark.city %>, <%= @skatepark.state %></h1>


  <ul class="collection">
  <% @skatepark.attributes.each do |attribute,value| %>
    <% exclude = ['created_at', 'updated_at', 'id'] %>

    <% unless exclude.include?(attribute) %>
      <% if attribute == 'size' && !value.blank? %>
        <li class="collection-item"><%= attribute.capitalize %>: <%= value %> sq ft</li>
      <% elsif !value.blank?%>
        <li class="collection-item"><%= attribute.capitalize %>: <%= value %></li>
      <% end %>
    <% end %>
  <% end %>
  </ul>
  <p>Reviews</p>
  <ul class="collection" >
    <% @all_user_skateparks.each do |user_park| %>
      <li class="collection-item"><%= user_park.review %></li>
    <% end %>

  </ul>


  <% if current_user && current_user.admin %>
    <%= button_to 'Update', edit_skatepark_path, method: :get %>
  <% end %>

<!-- favorite button -->

  <div class="fav-container">


    <% if user_has_skatepark(current_user.id, @skatepark.id) %>
        <% if user_has_skatepark(current_user.id, @skatepark.id).favorite == true %>

          <%= button_to 'Remove Favorite', remove_favorite_path(current_user.id, @skatepark.id), method: :put, remote: true, class: 'remove-favorite-button' %>

        <% else %>

          <%= button_to 'Add Favorite', add_favorite_path(current_user.id, @skatepark.id), method: :put, remote: true, class: 'add-favorite-button' %>

        <%end%>

      <% else %>

          <%= button_to 'Add Favorite', add_favorite_path(current_user.id, @skatepark.id), method: :put, remote: true, class: 'add-favorite-button' %>

      <% end %>


  </div>

<!-- visit button -->

  <div class="visit-container">


    <% if user_has_skatepark(current_user.id, @skatepark.id) %>
        <% if user_has_skatepark(current_user.id, @skatepark.id).visited == true %>

          <%= button_to 'Never Been Here', remove_visit_path(current_user.id, @skatepark.id), method: :put, remote: true, class: 'remove-visit-button' %>


        <% else %>

          <%= button_to 'Been Here', add_visit_path(current_user.id, @skatepark.id), method: :put, remote: true, class: 'add-visit-button' %>

        <%end%>

      <% else %>

          <%= button_to 'Been Here', add_visit_path(current_user.id, @skatepark.id), method: :put, remote: true, class: 'add-visit-button' %>

      <% end %>


  </div>

<!-- rate button -->

    <% if user_has_skatepark(current_user.id, @skatepark.id) %>
      <% if user_has_skatepark(current_user.id, @skatepark.id).visited == true %>

        <%= button_to 'Rate Skatepark', rate_path(current_user.id, @skatepark.id), class: 'rate-button'%>

        <div class="rate-container">
          <%= form_for @user_skatepark, url: rate_path(current_user.id, @skatepark.id), method: :put, remote: true do |f| %>
            <%= f.text_field :rating, placeholder: 'enter rating' %>
            <%= f.submit value: 'Rate' %>
          <% end %>
        </div>

      <% end %>
    <% end %>

<!-- review button -->

    <% if user_has_skatepark(current_user.id, @skatepark.id) %>
      <% if user_has_skatepark(current_user.id, @skatepark.id).visited == true %>

        <%= button_to 'Review Skatepark', review_path(current_user.id, @skatepark.id), class: "review-button" %>

        <div class="review-container">
          <%= form_for @user_skatepark, url: review_path(current_user.id, @skatepark.id), method: :put, remote: true do |f| %>
            <%= f.text_field :review, placeholder: 'write review here' %>
            <%= f.submit value: 'Review' %>
          <% end %>
        </div>

      <% end %>
    <% end %>


  </div>




  <div class="map-container">
      <div id='map'></div>
  </div>




</div>


